<script>
const progressBar: HTMLDivElement | null = document.querySelector('.bar')

if (progressBar) {
    window.addEventListener('scroll', () => {
        const { scrollTop, scrollHeight, clientHeight } = document.documentElement

        const totalScrollable = scrollHeight - clientHeight
        const scrolledPercentage = (scrollTop / totalScrollable) * 100

        progressBar.style.width = `${scrolledPercentage}%`
    })
}
</script>

<div class="progress"><div class="bar"></div></div>

<style>
    .progress {
        position: sticky;
        top: 0;
        z-index: 1000;

        width: 100vw;
        height: 0.5rem;
    }

    .bar {
        height: 100%;
        width: 0;
        background: linear-gradient(to right, var(--spark), var(--verdant));
        box-shadow: 0 0.25rem 1rem rgba(0,0,0,0.5);
        transition: width 0.1s ease;
    }
</style>